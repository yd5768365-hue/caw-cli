#!/usr/bin/env python3
"""
CAE-CLI AI Generate å‘½ä»¤ä½¿ç”¨ç¤ºä¾‹
æ¼”ç¤ºæ–‡æœ¬åˆ°3Dæ¨¡å‹çš„å®Œæ•´æµç¨‹
"""

import subprocess
import sys


def run_command(cmd, description=""):
    """è¿è¡Œå‘½ä»¤å¹¶æ˜¾ç¤ºç»“æœ"""
    if description:
        print(f"\n{'=' * 60}")
        print(f"ğŸ“ {description}")
        print(f"{'=' * 60}")
    print(f"$ {cmd}")
    print("-" * 60)

    result = subprocess.run(cmd, shell=True, capture_output=False, text=True)
    return result.returncode == 0


def main():
    """è¿è¡Œç¤ºä¾‹"""

    print("""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              CAE-CLI AI Generate å‘½ä»¤ä½¿ç”¨ç¤ºä¾‹                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æœ¬ç¤ºä¾‹æ¼”ç¤º cae-cli ai generate å‘½ä»¤çš„å„ç§ç”¨æ³•
å°†è‡ªç„¶è¯­è¨€æè¿°è½¬æ¢ä¸º3Dæ¨¡å‹
    """)

    # ç¤ºä¾‹1: åŸºç¡€ç«‹æ–¹ä½“
    print("\n1ï¸âƒ£  ç”ŸæˆåŸºç¡€ç«‹æ–¹ä½“ï¼ˆæ¨¡æ‹Ÿæ¨¡å¼ï¼‰")
    run_command(
        'cae-cli ai generate "ç«‹æ–¹ä½“ï¼Œè¾¹é•¿50mm" --mock -d ./output/cube',
        "ç”Ÿæˆç«‹æ–¹ä½“ï¼Œè¾¹é•¿50mm",
    )

    # ç¤ºä¾‹2: å¸¦åœ†è§’çš„ç«‹æ–¹ä½“
    print("\n2ï¸âƒ£  ç”Ÿæˆå¸¦åœ†è§’çš„ç«‹æ–¹ä½“")
    run_command(
        'cae-cli ai generate "å¸¦åœ†è§’çš„ç«‹æ–¹ä½“ï¼Œé•¿100å®½60é«˜40åœ†è§’8" --mock -d ./output/fillet_box',
        "ç”Ÿæˆå¸¦åœ†è§’çš„é•¿æ–¹ä½“",
    )

    # ç¤ºä¾‹3: åœ†æŸ±ä½“
    print("\n3ï¸âƒ£  ç”Ÿæˆåœ†æŸ±ä½“")
    run_command(
        'cae-cli ai generate "åœ†æŸ±ä½“ï¼ŒåŠå¾„30é«˜80" -n cylinder --mock -d ./output/cylinder',
        "ç”Ÿæˆåœ†æŸ±ä½“ï¼ŒæŒ‡å®šåç§°",
    )

    # ç¤ºä¾‹4: å®Œæ•´åˆ†ææµç¨‹
    print("\n4ï¸âƒ£  ç”Ÿæˆå¹¶è¿è¡Œå®Œæ•´åˆ†æ")
    run_command(
        'cae-cli ai generate "æ”¯æ¶ï¼Œé•¿150å®½80åš5" --analyze --mock -d ./output/bracket',
        "ç”Ÿæˆæ”¯æ¶å¹¶åˆ†æè´¨é‡",
    )

    # ç¤ºä¾‹5: çœŸå®FreeCADæ¨¡å¼ï¼ˆå¦‚æœå·²å®‰è£…ï¼‰
    print("\n5ï¸âƒ£  ä½¿ç”¨çœŸå®FreeCADæ¨¡å¼")
    print("å¦‚æœå·²å®‰è£…FreeCADï¼Œå¯ä»¥è¿è¡ŒçœŸå®æ¨¡å¼:")
    print('$ cae-cli ai generate "ç«‹æ–¹ä½“ï¼Œè¾¹é•¿100mm"')

    print("\n" + "=" * 60)
    print("âœ… ç¤ºä¾‹å®Œæˆ!")
    print("=" * 60)
    print("""
ğŸ“š å¸¸ç”¨å‘½ä»¤æ€»ç»“:

1. åŸºç¡€ç”Ÿæˆ:
   cae-cli ai generate "ç«‹æ–¹ä½“ï¼Œè¾¹é•¿100mm"

2. å¸¦å‚æ•°:
   cae-cli ai generate "å¸¦åœ†è§’çš„ç«‹æ–¹ä½“ï¼Œé•¿100å®½50é«˜30åœ†è§’10"

3. æŒ‡å®šè¾“å‡º:
   cae-cli ai generate "åœ†æŸ±ä½“ï¼ŒåŠå¾„30é«˜60" -d ./output -n my_part

4. å®Œæ•´åˆ†æ:
   cae-cli ai generate "æ”¯æ¶ï¼Œé•¿150å®½80åš5" --analyze

5. æ¨¡æ‹Ÿæ¨¡å¼:
   cae-cli ai generate "çƒä½“ï¼ŒåŠå¾„40" --mock

ğŸ“– å‚æ•°è¯´æ˜:
   -d, --output-dir   è¾“å‡ºç›®å½•
   -n, --name         æ¨¡å‹åç§°
   --mock             ä½¿ç”¨æ¨¡æ‹Ÿæ¨¡å¼ï¼ˆæ— éœ€FreeCADï¼‰
   --analyze          è¿è¡Œåˆ†æå¹¶ç”ŸæˆæŠ¥å‘Š
   --open             ç”Ÿæˆåæ‰“å¼€FreeCADæŸ¥çœ‹

ğŸ”§ å·¥ä½œæµç¨‹:
   æ–‡æœ¬æè¿° â†’ è§£æå‚æ•° â†’ FreeCADå»ºæ¨¡ â†’ å¯¼å‡ºSTEP â†’ è´¨é‡åˆ†æ â†’ ç”ŸæˆæŠ¥å‘Š
    """)


if __name__ == "__main__":
    main()
